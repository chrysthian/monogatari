<!DOCTYPE html>
<meta charset="UTF-8">
<html>
<head>
  <title>Audio Usage - Monogatari</title>
  <link href="css/style.css" rel="stylesheet">
  <script src="../require.js"></script>
  <script src="../setup.js"></script>
  <script>
    require(
      [ 'Monogatari' ], function( m ) {
        m.init();

        var music = new m.GameObject( 'music' );
        var played = false;

        music.addComponent( new m.Audio( '../assets/invaders.wav' ) );
        music.update = function() {
          if( !played ) {
            played = true;
            this.findComponent( m.Base.TYPE.AUDIO ).play();
          }
        };

        m.world.children.push( music );
        m.run();
      }
    );
  </script>
</head>
<body>
<h1>Audio Test</h1>
</body>
</html>