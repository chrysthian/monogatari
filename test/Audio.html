<!DOCTYPE html>
<html>
    <head>
        <title>Audio Test</title>
        <script src="../lib/Require.js"></script>
        <script>
			require.config({
				baseUrl: '../'
			});
			require(['engine/GameManager', 'engine/entity/component/Audio'], function() {
				Monogatari.GameManager.init();
				Monogatari.SceneManager.createScene( 'mainScene' );
				Monogatari.SceneManager.createCamera( 'mainCamera', 'mainScene' );

				var music = Monogatari.ObjectManager.create( 'music' );

				music.addComponent( new Monogatari.Audio('assets/heat-on-the-road.ogg') );

				music.update = function(){
				  this.findComponent( Monogatari.Constants.COMPONENT_AUDIO_SOURCE ).play()
				}

				Monogatari.ObjectManager.connect( 'world', 'music' );

				Monogatari.GameManager.run();
			});
        </script>
    </head>
    <body>

    <h1>Audio Test</h1>

    <div>Music "Heat on the Road" from <b><a href="http://www.freestockmusic.com/2013/rock-production-music/free-blues-rock-stock-music-heat-on-the-road/"> http://www.freestockmusic.com/ </a></b></div>
    <div>According to site <a href="http://www.freestockmusic.com/license-agreement/">license agreement</a></div>

    </body>
</html>