<!DOCTYPE html>
<html>
<head>
<title>Component Test</title>
<script src="../lib/Require.js"></script>
<script src="setup.js"></script>
<link rel="stylesheet" type="text/css" href="style.css" />
<script>

  require( [ 'component/Node' ], function( _Node ) {
    var n = new _Node();
    assert( n.getEulerRotation() === 0, 'Node getEulerRotation()' );
  } );

  require( [ 'component/Audio' ], function( _Audio ) {
    var audio = new _Audio( 'myid', 'assets/heat-on-the-road.ogg' );

    var frames = 0;

    var playSound = function() {
      if(frames < 100) {
        frames++;
        if( audio.isLoaded() ) {
          audio.start();
          console.log( 'TEST component/Audio > OK', audio );
        } else {
          requestAnimationFrame( playSound );
        }
      } else {
        console.log( 'TEST component/Audio > ERROR', audio );
      }
    }

    playSound();
  } );

  require( [ 'component/Sprite' ], function( _Sprite ) {
    var sprite = new _Sprite( 'mainScene', 'assets/zombies.png', 64, 64, 1, 3 );
    console.log( 'TEST component/Sprite > OK', sprite);
  } );

  require( [ 'component/StaticText' ], function ( _StaticText ) {
    var text = new _StaticText( 'mainScene', 'OROMIO', 12, "Caesar Dressing" );
    console.log( 'TEST component/StaticText > OK', text);
  } );

</script>
</head>
<body>
<div id="test">
</div>
</body>
</html>
