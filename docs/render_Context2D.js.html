<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: render/Context2D.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-collection_LinkedList.html">collection/LinkedList</a></li><li><a href="module-collection_List.html">collection/List</a></li><li><a href="module-collection_Map.html">collection/Map</a></li><li><a href="module-collection_Tree.html">collection/Tree</a></li><li><a href="module-component_Audio.html">component/Audio</a></li><li><a href="module-component_Base.html">component/Base</a></li><li><a href="module-component_BaseThree.html">component/BaseThree</a></li><li><a href="module-component_RigidBody.html">component/RigidBody</a></li><li><a href="module-component_Sprite.html">component/Sprite</a></li><li><a href="module-core_Common.html">core/Common</a></li><li><a href="module-core_GameObject.html">core/GameObject</a></li><li><a href="module-core_Math.html">core/Math</a></li><li><a href="module-core_Message.html">core/Message</a></li><li><a href="module-core_Timer.html">core/Timer</a></li><li><a href="module-core_World.html">core/World</a></li><li><a href="module-input_Keyboard.html">input/Keyboard</a></li><li><a href="module-input_Mouse.html">input/Mouse</a></li><li><a href="module-manager_MessageManager.html">manager/MessageManager</a></li><li><a href="module-manager_PhysicsManager.html">manager/PhysicsManager</a></li><li><a href="module-manager_SceneManager.html">manager/SceneManager</a></li><li><a href="module-Monogatari.html">Monogatari</a></li><li><a href="module-render_Camera2D.html">render/Camera2D</a></li><li><a href="module-render_Context2D.html">render/Context2D</a></li><li><a href="module-util_ArrayUtils.html">util/ArrayUtils</a></li><li><a href="module-util_CommonUtils.html">util/CommonUtils</a></li><li><a href="module-util_StringUtils.html">util/StringUtils</a></li></ul><h3>Classes</h3><ul><li><a href="module-collection_LinkedList-LinkedList.html">LinkedList</a></li><li><a href="module-collection_List-List.html">List</a></li><li><a href="module-collection_Map-Map.html">Map</a></li><li><a href="module-collection_Tree-Tree.html">Tree</a></li><li><a href="module-collection_Tree-TreeNode.html">TreeNode</a></li><li><a href="module-component_Audio-Audio.Audio.html">Audio</a></li><li><a href="module-component_BaseThree-BaseThree.html">BaseThree</a></li><li><a href="module-component_Base-Base.html">Base</a></li><li><a href="module-component_RigidBody-RigidBody.html">RigidBody</a></li><li><a href="module-component_Sprite-Sprite.html">Sprite</a></li><li><a href="module-core_Common-Common.html">Common</a></li><li><a href="module-core_GameObject-GameObject.html">GameObject</a></li><li><a href="module-core_Message-Message.html">Message</a></li><li><a href="module-core_Timer-Timer.html">Timer</a></li><li><a href="module-input_Keyboard-Keyboard.html">Keyboard</a></li><li><a href="module-input_Mouse-Mouse.html">Mouse</a></li><li><a href="module-manager_MessageManager-MessageManager.html">MessageManager</a></li><li><a href="module-manager_PhysicsManager-PhysicsManager.html">PhysicsManager</a></li><li><a href="module-manager_SceneManager-SceneManager.html">SceneManager</a></li><li><a href="module-Monogatari-Monogatari.html">Monogatari</a></li><li><a href="module-render_Camera2D-Camera2D.html">Camera2D</a></li><li><a href="module-render_Context2D-Context2D.html">Context2D</a></li><li><a href="module-util_ArrayUtils-ArrayUtils.html">ArrayUtils</a></li><li><a href="module-util_CommonUtils-CommonUtils.html">CommonUtils</a></li><li><a href="module-util_StringUtils-StringUtils.html">StringUtils</a></li><li><a href="World.World.html">World</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-core_Math-Math.html">Math</a></li></ul>
</nav>

<div id="main">
    <h1 class="page-title">Source: render/Context2D.js</h1>
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Exports the {@link module:render/Context2D~Context2D|Context2D} class.
 * @module render/Context2D
 */
define(
  [ 'core/Math' ], function( Math ) {

    /**
     * Utility class to use context2D of the canvas. Usually used to render into a texture.
     * @class Context2D
     */
    var Context2D = function() {};

    /**
     * Clear the whole area with the given color (if no color is given, assumes a transparent rect)
     * @instance
     * @method
     * @name clear
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {Number} w area width
     * @param {Number} h area height
     * @param {String} color Hexadecimal color
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.clear = function( context, w, h, color ) {
      this.clearRect( context, 0, 0, w, h, color );
    };

    /**
     * Clear a specific drawing area with the given color (if no color is given, assumes a transparent rect)
     * @instance
     * @method
     * @name clearRect
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {Number} x X coordinate
     * @param {Number} y Y coordinate
     * @param {Number} w area width
     * @param {Number} h area height
     * @param {String} color Hexadecimal color
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.clearRect = function( context, x, y, w, h, color ) {
      context.clearRect( x, y, w, h );
      if( color ) {
        context = this.setContextColor( context, color );
        context.fillRect( x, y, w, h );
      }
    };

    Context2D.prototype.clipRect = function( context, x, y, w, h ) {
      context.beginPath();
      context.fillRect( x, y, w, h );
      context.closePath();
      context.clip();
    };

    /**
     * Set the color of filling and strokes
     * @instance
     * @method
     * @name setContextColor
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {String} color Hexadecimal color
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.setContextColor = function( context, color ) {
      context.strokeStyle = color;
      context.fillStyle = color;
      return context;
    };

    /**
     * Set the color of strokes
     * @instance
     * @method
     * @name setContextStrokeColor
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {String} color Hexadecimal color
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.setContextStrokeColor = function( context, color ) {
      context.strokeStyle = color;
      return context;
    };

    /**
     * Set the color of fill
     * @instance
     * @method
     * @name setContextFillColor
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {String} color Hexadecimal color
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.setContextFillColor = function( context, color ) {
      context.fillStyle = color;
      return context;
    };

    /**
     * Draws a single point on the given coordinates
     * @instance
     * @method
     * @name setContextFillColor
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {Number} x X coordinate
     * @param {Number} y Y coordinate
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.point = function( context, x, y ) {
      context.beginPath();
      context.fillRect( x, y, 1, 1 );
      context.closePath();

      context.stroke();
    };

    /**
     * Draws a line from a coordinate (x1, y1) to another (x2, y2)
     * @instance
     * @method
     * @name line
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {Number} x1 X coordinate
     * @param {Number} y1 Y coordinate
     * @param {Number} x2 X coordinate
     * @param {Number} y2 Y coordinate
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.line = function( context, x1, y1, x2, y2 ) {
      context.beginPath();
      context.moveTo( x1, y1 );
      context.lineTo( x2, y2 );
      context.closePath();

      context.stroke();
    };

    /**
     * Strokes a circle with the given radius (in pixels)
     * @instance
     * @method
     * @name strokeCircle
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {Number} radius Radius in pixels
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.strokeCircle = function( context, radius ) {
      // arc(x, y, radius, startAngle, endAngle, anticlockwise)
      context.beginPath();
      context.arc( 0, 0, radius, 0, Math.PI_2, true );
      context.closePath();
      context.stroke();
    };

    /**
     * Fills a circle with the given radius (in pixels)
     * @instance
     * @method
     * @name fillCircle
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {Number} radius Radius in pixels
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.fillCircle = function( context, radius ) {
      // arc(x, y, radius, startAngle, endAngle, anticlockwise)
      context.beginPath();
      context.arc( 0, 0, radius, 0, Math.PI_2, true );
      context.closePath();
      context.fill();
    };

    /**
     * Strokes and Fills a circle with the given radius (in pixels)
     * @instance
     * @method
     * @name fillAndStrokeCircle
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {Number} radius Radius in pixels
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.fillAndStrokeCircle = function( context, radius ) {
      // arc(x, y, radius, startAngle, endAngle, anticlockwise)
      context.beginPath();
      context.arc( 0, 0, radius, 0, Math.PI_2, true );
      context.closePath();
      context.fill();
      context.stroke();
    };

    Context2D.prototype.clipCircle = function( context, radius ) {
      // arc(x, y, radius, startAngle, endAngle, anticlockwise)
      context.beginPath();
      context.arc( 0, 0, radius, 0, Math.PI_2, true );
      context.closePath();
      context.clip();
    };

    /**
     * Strokes a Polygon with the given coordinates(in pixels)
     * @instance
     * @method
     * @name strokePolygon
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {Array} arrX Array if X coordinates
     * @param {Array} arrY Array if Y coordinates
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.strokePolygon = function( context, arrX, arrY ) {
      context.beginPath();
      context.moveTo( arrX[ 0 ], arrY[ 0 ] );

      for( var i = 1; i &lt; arrX.length; i++ )
        context.lineTo( arrX[ i ], arrY[ i ] );

      context.lineTo( arrX[ 0 ], arrY[ 0 ] );
      context.closePath();

      context.stroke();
    };

    /**
     * Fills a Polygon with the given coordinates(in pixels)
     * @instance
     * @method
     * @name fillPolygon
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {Array} arrX Array if X coordinates
     * @param {Array} arrY Array if Y coordinates
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.fillPolygon = function( context, arrX, arrY ) {
      context.beginPath();
      context.moveTo( arrX[ 0 ], arrY[ 0 ] );

      for( var i = 1; i &lt; arrX.length; i++ )
        context.lineTo( arrX[ i ], arrY[ i ] );

      context.lineTo( arrX[ 0 ], arrY[ 0 ] );
      context.closePath();

      context.fill();
    };

    /**
     * Fills and strokes a Polygon with the given coordinates(in pixels)
     * @instance
     * @method
     * @name fillAndStrokePolygon
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {Array} arrX Array if X coordinates
     * @param {Array} arrY Array if Y coordinates
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.fillAndStrokePolygon = function( context, arrX, arrY ) {
      context.beginPath();
      context.moveTo( arrX[ 0 ], arrY[ 0 ] );

      for( var i = 1; i &lt; arrX.length; i++ )
        context.lineTo( arrX[ i ], arrY[ i ] );

      context.lineTo( arrX[ 0 ], arrY[ 0 ] );
      context.closePath();

      context.fill();
      context.stroke();
    };

    Context2D.prototype.clipPolygon = function( context, arrX, arrY ) {
      context.beginPath();
      context.moveTo( arrX[ 0 ], arrY[ 0 ] );

      for( var i = 1; i &lt; arrX.length; i++ )
        context.lineTo( arrX[ i ], arrY[ i ] );

      context.lineTo( arrX[ 0 ], arrY[ 0 ] );
      context.closePath();

      context.clip();
    };

    /**
     * Strokes a rounded rectangle
     * @instance
     * @method
     * @name strokeRoundedRect
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {Number} x X coordinate
     * @param {Number} y Y coordinate
     * @param {Number} w area width
     * @param {Number} h area height
     * @param {Number} radius Radius in pixels
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.strokeRoundedRect = function( context, x, y, w, h, radius ) {

      var r = ( radius ) ? radius : 5;

      context.beginPath();

      //  +
      context.moveTo( x + r, y );
      //  ___+
      context.lineTo( x + w - r, y );
      //  ___
      //     \
      //      +
      context.quadraticCurveTo( x + w, y, x + w, y + r );
      //  ___
      //     \
      //      |
      //      +
      context.lineTo( x + w, y + h - r );
      //  ___
      //     \
      //      |
      //    +/
      context.quadraticCurveTo( x + w, y + h, x + w - r, y + h );
      //  ___
      //     \
      //      |
      // +___/
      context.lineTo( x + r, y + h );
      //  ___
      //     \
      //+     |
      // \___/
      context.quadraticCurveTo( x, y + h, x, y + h - r );
      //  ___
      // +   \
      //|     |
      // \___/
      context.lineTo( x, y + r );
      //  ___
      // /   \
      //|     |
      // \___/
      context.quadraticCurveTo( x, y, x + r, y );
      context.closePath();

      context.stroke();
    };

    /**
     * Fill a rounded rectangle
     * @instance
     * @method
     * @name fillRoundedRect
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {Number} x X coordinate
     * @param {Number} y Y coordinate
     * @param {Number} w area width
     * @param {Number} h area height
     * @param {Number} radius Radius in pixels
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.fillRoundedRect = function( context, x, y, w, h, radius ) {

      var r = ( radius ) ? radius : 5;

      context.beginPath();

      context.moveTo( x + r, y );
      context.lineTo( x + w - r, y );
      context.quadraticCurveTo( x + w, y, x + w, y + r );
      context.lineTo( x + w, y + h - r );
      context.quadraticCurveTo( x + w, y + h, x + w - r, y + h );
      context.lineTo( x + r, y + h );
      context.quadraticCurveTo( x, y + h, x, y + h - r );
      context.lineTo( x, y + r );
      context.quadraticCurveTo( x, y, x + r, y );

      context.closePath();

      context.fill();
    };

    /**
     * Fills and strokes a rounded rectangle
     * @instance
     * @method
     * @name fillAndStrokeRoundedRect
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {Number} x X coordinate
     * @param {Number} y Y coordinate
     * @param {Number} w area width
     * @param {Number} h area height
     * @param {Number} radius Radius in pixels
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.fillAndStrokeRoundedRect = function( context, x, y, w, h, radius ) {
      var r = ( radius ) ? radius : 5;

      context.beginPath();

      context.moveTo( x + r, y );
      context.lineTo( x + w - r, y );
      context.quadraticCurveTo( x + w, y, x + w, y + r );
      context.lineTo( x + w, y + h - r );
      context.quadraticCurveTo( x + w, y + h, x + w - r, y + h );
      context.lineTo( x + r, y + h );
      context.quadraticCurveTo( x, y + h, x, y + h - r );
      context.lineTo( x, y + r );
      context.quadraticCurveTo( x, y, x + r, y );

      context.closePath();

      context.fill();
      context.stroke();
    };

    /**
     * Strokes an ellipse
     * @example
     * // from http://stackoverflow.com/questions/2172798/how-to-draw-an-oval-in-html5-canvas
     * // draw by center
     * strokeEllipse(context, cx - w/2, cy - h/2, w, h);
     * @instance
     * @method
     * @name strokeEllipse
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {Number} x X coordinate
     * @param {Number} y Y coordinate
     * @param {Number} w area width
     * @param {Number} h area height
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.strokeEllipse = function( context, x, y, w, h ) {
      var k = .5522848;
      var ox = ( w / 2 ) * k; // control point offset horizontal
      var oy = ( h / 2 ) * k; // control point offset vertical
      var xe = x + w; // x-end
      var ye = y + h; // y-end
      var xm = x + w / 2; // x-middle
      var ym = y + h / 2; // y-middle

      context.beginPath();
      context.moveTo( x, ym );
      context.bezierCurveTo( x, ym - oy, xm - ox, y, xm, y );
      context.bezierCurveTo( xm + ox, y, xe, ym - oy, xe, ym );
      context.bezierCurveTo( xe, ym + oy, xm + ox, ye, xm, ye );
      context.bezierCurveTo( xm - ox, ye, x, ym + oy, x, ym );
      context.closePath();
      context.stroke();
    };

    /**
     * Fills an ellipse
     * @instance
     * @method
     * @name strokeEllipse
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {Number} x X coordinate
     * @param {Number} y Y coordinate
     * @param {Number} w area width
     * @param {Number} h area height
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.fillEllipse = function( context, x, y, w, h ) {
      var k = .5522848;
      var ox = ( w / 2 ) * k; // control point offset horizontal
      var oy = ( h / 2 ) * k; // control point offset vertical
      var xe = x + w; // x-end
      var ye = y + h; // y-end
      var xm = x + w / 2; // x-middle
      var ym = y + h / 2; // y-middle

      context.beginPath();
      context.moveTo( x, ym );
      context.bezierCurveTo( x, ym - oy, xm - ox, y, xm, y );
      context.bezierCurveTo( xm + ox, y, xe, ym - oy, xe, ym );
      context.bezierCurveTo( xe, ym + oy, xm + ox, ye, xm, ye );
      context.bezierCurveTo( xm - ox, ye, x, ym + oy, x, ym );
      context.closePath();
      context.fill();
    };

    /**
     * Stroke and fills an ellipse
     * @instance
     * @method
     * @name strokeEllipse
     * @param {Object} context 2d context of a HTMLCanvasElement
     * @param {Number} x X coordinate
     * @param {Number} y Y coordinate
     * @param {Number} w area width
     * @param {Number} h area height
     * @memberOf module:render/Context2D~Context2D
     */
    Context2D.prototype.fillAndStrokeEllipse = function( context, x, y, w, h ) {
      var k = .5522848;
      var ox = ( w / 2 ) * k; // control point offset horizontal
      var oy = ( h / 2 ) * k; // control point offset vertical
      var xe = x + w; // x-end
      var ye = y + h; // y-end
      var xm = x + w / 2; // x-middle
      var ym = y + h / 2; // y-middle

      context.beginPath();
      context.moveTo( x, ym );
      context.bezierCurveTo( x, ym - oy, xm - ox, y, xm, y );
      context.bezierCurveTo( xm + ox, y, xe, ym - oy, xe, ym );
      context.bezierCurveTo( xe, ym + oy, xm + ox, ye, xm, ye );
      context.bezierCurveTo( xm - ox, ye, x, ym + oy, x, ym );
      context.closePath();
      context.fill();
      context.stroke();
    };

    Context2D.prototype.setAlpha = function( context, alpha ) {
      context.globalAlpha = (alpha) ? alpha : 0;
    };

    return new Context2D();
  }
);</code></pre>
        </article>
    </section>





    <footer>
        <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> | Wed Jun 01 2016 18:44:30 GMT-0300 (Hora oficial do Brasil)
    </footer>
</div>

<br class="clear">

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
