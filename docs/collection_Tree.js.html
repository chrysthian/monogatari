<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: collection/Tree.js | Monogatari Docs</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-collection_LinkedList.html">collection/LinkedList</a></li><li><a href="module-collection_List.html">collection/List</a></li><li><a href="module-collection_Map.html">collection/Map</a></li><li><a href="module-collection_Tree.html">collection/Tree</a></li><li><a href="module-component_Audio.html">component/Audio</a></li><li><a href="module-component_Base.html">component/Base</a></li><li><a href="module-component_BaseThree.html">component/BaseThree</a></li><li><a href="module-component_RigidBody.html">component/RigidBody</a></li><li><a href="module-component_Sprite.html">component/Sprite</a></li><li><a href="module-core_Common.html">core/Common</a></li><li><a href="module-core_GameObject.html">core/GameObject</a></li><li><a href="module-core_Math.html">core/Math</a></li><li><a href="module-core_Message.html">core/Message</a></li><li><a href="module-core_Timer.html">core/Timer</a></li><li><a href="module-core_World.html">core/World</a></li><li><a href="module-input_Keyboard.html">input/Keyboard</a></li><li><a href="module-input_Mouse.html">input/Mouse</a></li><li><a href="module-manager_MessageManager.html">manager/MessageManager</a></li><li><a href="module-manager_PhysicsManager.html">manager/PhysicsManager</a></li><li><a href="module-manager_SceneManager.html">manager/SceneManager</a></li><li><a href="module-Monogatari.html">Monogatari</a></li><li><a href="module-render_Camera2D.html">render/Camera2D</a></li><li><a href="module-render_Context2D.html">render/Context2D</a></li><li><a href="module-util_ArrayUtils.html">util/ArrayUtils</a></li><li><a href="module-util_CommonUtils.html">util/CommonUtils</a></li><li><a href="module-util_StringUtils.html">util/StringUtils</a></li></ul><h3>Classes</h3><ul><li><a href="module-collection_LinkedList-LinkedList.html">LinkedList</a></li><li><a href="module-collection_List-List.html">List</a></li><li><a href="module-collection_Map-Map.html">Map</a></li><li><a href="module-collection_Tree-Tree.html">Tree</a></li><li><a href="module-collection_Tree-TreeNode.html">TreeNode</a></li><li><a href="module-component_Audio-Audio.Audio.html">Audio</a></li><li><a href="module-component_BaseThree-BaseThree.html">BaseThree</a></li><li><a href="module-component_Base-Base.html">Base</a></li><li><a href="module-component_RigidBody-RigidBody.html">RigidBody</a></li><li><a href="module-component_Sprite-Sprite.html">Sprite</a></li><li><a href="module-core_Common-Common.html">Common</a></li><li><a href="module-core_GameObject-GameObject.html">GameObject</a></li><li><a href="module-core_Message-Message.html">Message</a></li><li><a href="module-core_Timer-Timer.html">Timer</a></li><li><a href="module-input_Keyboard-Keyboard.html">Keyboard</a></li><li><a href="module-input_Mouse-Mouse.html">Mouse</a></li><li><a href="module-manager_MessageManager-MessageManager.html">MessageManager</a></li><li><a href="module-manager_PhysicsManager-PhysicsManager.html">PhysicsManager</a></li><li><a href="module-manager_SceneManager-SceneManager.html">SceneManager</a></li><li><a href="module-Monogatari-Monogatari.html">Monogatari</a></li><li><a href="module-render_Camera2D-Camera2D.html">Camera2D</a></li><li><a href="module-render_Context2D-Context2D.html">Context2D</a></li><li><a href="module-util_ArrayUtils-ArrayUtils.html">ArrayUtils</a></li><li><a href="module-util_CommonUtils-CommonUtils.html">CommonUtils</a></li><li><a href="module-util_StringUtils-StringUtils.html">StringUtils</a></li><li><a href="World.World.html">World</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-core_Math-Math.html">Math</a></li></ul>
</nav>

<div id="main">
    <h1 class="page-title">Source: collection/Tree.js</h1>
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Exports the {@link module:collection/Tree~Tree|Tree} class.
 * @module collection/Tree
 */
define(
  [ 'core/Common' ], function( Common ) {

    /**
     * A specific Node used for the collection Tree
     *
     * @class TreeNode
     */
    var TreeNode = function( data, parent ) {
      /**
       * Actual data stored in the node
       * @memberOf module:collection/Tree~TreeNode
       * @instance
       * @type {Object}
       * @name data
       */
      this.data = data;
      /**
       * Pointer to the parent Node
       * @memberOf module:collection/Tree~TreeNode
       * @instance
       * @type {TreeNode}
       * @name parent
       */
      this.parent = parent;
      /**
       * Array of pointers of children Nodes
       * @memberOf module:collection/Tree~TreeNode
       * @instance
       * @type {Array}
       * @name children
       */
      this.children = [];
    };

    /**
     * Collection of data elements sorted hierarchically from root to leaf, with child nodes connected by means of a pointer.
     * Elements can easily be inserted or removed without reallocation or reorganization of the entire structure
     * because the data items need not be stored contiguously in memory.
     *
     * @class Tree
     */
    var Tree = function() {
      this.root = new TreeNode( 'root' );
    };

    /**
     * Find a given value in the Tree and returns the TreeNode containing it or null if not found.
     * @method
     * @instance
     * @name find
     * @param {Object} data The value to be searched
     * @param {TreeNode} [startNode] A pointer to a Tree node, start from root if not provided
     * @return {TreeNode}
     * @memberOf module:collection/Tree~Tree
     */
    Tree.prototype.find = function( data, startNode ) {
      var sNode = startNode ? startNode : this.root;

      var findAux = function( data, currentNode ) {
        if( Common.equals( data, currentNode.data ) ) {
          return currentNode;
        } else {
          for( var i = 0; i &lt; currentNode.children.length; i++ ) {
            var result = findAux( data, currentNode.children[ i ] );
            if( result ) {
              return result;
            }
          }
          return null;
        }
      };

      return findAux( data, sNode );
    };

    /**
     * Put a value inside the tree under the given parent node;
     * @method
     * @instance
     * @name put
     * @param {Object} data Description
     * @param {TreeNode} [parent] Description
     * @memberOf module:collection/Tree~Tree
     */
    Tree.prototype.put = function( data, parent ) {
      var pNode;
      if( parent ) {
        pNode = this.find( parent );
      }
      pNode = pNode ? pNode : this.root;
      pNode.children.push( new TreeNode( data, pNode ) );
    };

    /**
     * Remove a node based on given value.
     * @method
     * @instance
     * @name remove
     * @param {Object} data Value stored on a TreeNode.
     * @memberOf module:collection/Tree~Tree
     */
    Tree.prototype.remove = function( data ) {
      var node = this.find( data );
      if( node ) {
        // Remove reference from parent children
        var index;
        for( var i = 0; i &lt; node.parent.children.length; i++ ) {
          if( Common.equals( node.parent.children[ i ].data, data ) ) {
            index = i;
          }
        }
        node.parent.children.splice( index, 1 );
        // Remove own references
        node.parent = null;
        node.children.length = 0;
      }
    };

    /**
     * Clear entire Tree and flags it to garbage collection.
     * @method
     * @instance
     * @name clear
     * @memberOf module:collection/Tree~Tree
     */
    Tree.prototype.clear = function() {
      this.root.children.length = 0;
    };

    /**
     * Move a given data to the new given parent
     * @method
     * @instance
     * @name move
     * @param {Object} data Value
     * @param {TreeNode} parent Parent node
     * @memberOf module:collection/Tree~Tree
     */
    Tree.prototype.move = function( data, parent ) {
      remove( data );
      put( data, parent );
    };

    /**
     * List of immediate children of the given data.
     * @method
     * @instance
     * @name listChildren
     * @memberOf module:collection/Tree~Tree
     * @return {Array} Array of child nodes
     */
    Tree.prototype.listChildren = function( data ) {
      var node = this.find( data );
      if( node ) {
        return node.children;
      } else {
        return null;
      }
    };

    /**
     * List of all children of the given data.
     * @method
     * @instance
     * @name listDescendants
     * @memberOf module:collection/Tree~Tree
     * @return {Array} Array of child nodes
     */
    Tree.prototype.listDescendants = function( data ) {
      var node = this.find( data );

      var listDescendantsAux = function( node, result ) {
        for( var i = 0; i &lt; node.children.length; i++ ) {
          result.push( node.children[ i ] );
          result = listDescendantsAux( node.children[ i ], result );
        }
        return result;
      };

      if( node ) {
        return listDescendantsAux( node, [] );
      } else {
        return null;
      }
    };

    /**
     * Transforms the Tree values on an array
     * @method
     * @instance
     * @name toArray
     * @memberOf module:collection/Tree~Tree
     * @return {Array}
     */
    Tree.prototype.toArray = function() {
      return this.listDescendants( this.root );
    };

    return Tree;
  }
);
</code></pre>
        </article>
    </section>





    <footer>
        <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> | Thu Jun 02 2016 22:52:04 GMT-0300 (BRT)
    </footer>
</div>

<br class="clear">

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
